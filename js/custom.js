var data = "eyJiYXNpY3MiOnsibmFtZSI6IllpZGluZyBMaXUiLCJ0ZWwiOiJPVGM1TlRjeE9EZzJNQT09IiwiZW1haWwiOiJiSGxrUUhSaGJYVXVaV1IxIiwibGlua3MiOlt7Im5hbWUiOiJnaXRodWIiLCJsaW5rIjoiaHR0cHM6Ly9naXRodWIuY29tL3BldHJvc2xpdSJ9LHsibmFtZSI6ImxpbmtlZGluIiwibGluayI6Imh0dHA6Ly93d3cubGlua2VkaW4uY29tL2luL3lkbGl1In0seyJuYW1lIjoiaW5zdGFncmFtIiwibGluayI6Imh0dHBzOi8vd3d3Lmluc3RhZ3JhbS5jb20vcGV0cm9zbGl1LyJ9LHsibmFtZSI6IndlY2hhdCIsImxpbmsiOiJodHRwOi8vd2VpeGluLnFxLmNvbS9yL3V2dTJydGpFX0lXSHJaek45NjZvIn0seyJuYW1lIjoicmVzdW1lIiwibGluayI6Imh0dHBzOi8vd3d3LmRyb3Bib3guY29tL3MvZjNrcGh0azB6eXY0aGxpL1lpZGluZyUyMExpdSUyMFJlc3VtZS5wZGY/cmF3PTEifV0sInN1bW1hcnkiOlsiU2Vjb25kLXllYXIgQWdnaWUgbWFqb3JzIGluIEluZm9ybWF0aW9uIFNjaWVuY2UgJmFtcDsgU3lzdGVtIHdpdGggZ3JlYXQgYW1iaXRpb24gdG8gYmVuZWZpdCBsaXZlcyB3aXRoIGN1dHRpbmctZWRnZSB0ZWNobm9sb2d5LiBNdWx0aS1wbGF0Zm9ybSBwcm9mZXNzaW9uYWwgd2l0aCBkaXZlcnNlIHNraWxscyBpbmNsdWRlIHNvZnR3YXJlL2hhcmR3YXJlIGRldmVsb3BtZW50IGFuZCB3ZWIvbmF0aXZlIGFwcCBkZXNpZ24uIERlZXAgaW4gaW1hZ2UsIHZpZGVvIGFuZCAzRCBzY2VuZSBwcm9jZXNzaW5nIGFuZCBhbmFseXNpcyBpbnZvbHZpbmcgbWFjaGluZSBsZWFybmluZyB0ZWNobmlxdWVzLiBIYXJkLXdvcmtpbmcgYW5kIGdvYWwtb3JpZW50ZWQgZGV2ZWxvcGVyIiwiU2Vla2luZyB0byBhcHBseSBteSBhYmlsaXRpZXMgdG8gYSBwb3NpdGlvbiBvZiBTb2Z0d2FyZSBFbmdpbmVlciBpbiAyMDE2LiJdLCJwb3J0cmFpdCI6ImltZy9wb3J0cmFpdC5wbmciLCJvdGhlcnMiOnsiYmFja3BvcnRyYWl0IjoiaW1nL3BvcnRyYWl0YmFjay5wbmciLCJmb3JtYXR0ZWR0ZWwiOiJQR2tnWTJ4aGMzTTlJbVpoSUdaaExXRnVaMnhsTFd4bFpuUWlQand2YVQ0NU56azhhU0JqYkdGemN6MGlabUVnWm1FdFlXNW5iR1V0Y21sbmFIUWlQand2YVQ0MU56RXRPRGcyTUE9PSIsImZvcm1hdHRlZGVtYWlsIjoiYkhsa1BHa2dZMnhoYzNNOUltWmhJR1poTFdGMElqNDhMMmsrZEdGdGRTNWxaSFU9Iiwid2VjaGF0cXIiOiJpbWcvd2VjaGF0LnBuZyJ9fSwiZWR1Y2F0aW9uIjp7ImNvbGxlZ2VzIjpbeyJuYW1lIjoiVGV4YXMgQSZhbXA7TSBVbml2ZXJzaXR5IiwibG9nbyI6ImltZy9UZXhhc19BJmFtcDtNX1VuaXZlcnNpdHlfTG9nby5zdmciLCJjb2xvciI6IiM1MDAwMDAiLCJkZWdyZWUiOiJNYXN0ZXIgb2YgU2NpZW5jZSIsIm1ham9yIjoiSW5mb3JtYXRpb24gU2NpZW5jZSAmYW1wOyBTeXN0ZW0iLCJsb2NhdGlvbiI6IkNvbGxlZ2UgU3RhdGlvbiwgVFgiLCJ0aW1lIjoiQXVndXN0IDIwMTYiLCJncGEiOiIzLjkiLCJvdmVyYWxsIjoiNC4wIiwiY291cnNlcyI6WyJBbmFseXNpcyBvZiBBbGdvcml0aG1zIiwiU29mdHdhcmUgRW5naW5lZXJpbmciLCJNYWNoaW5lIExlYXJuaW5nIHdpdGggTmV1cmFsIE5ldHdvcmtzIiwiUGF0dGVybiBSZWNvZ25pdGlvbiIsIkRpZ2l0YWwgSW1hZ2UgUHJvY2Vzc2luZyIsIlN0YXRpc3RpY2FsIENvbW11bmljYXRpb24gVGhlb3J5IiwiTGluZWFyIE5ldHdvcmsgQW5hbHlzaXMiXX0seyJuYW1lIjoiTmFuamluZyBVbml2ZXJzaXR5IiwibG9nbyI6ImltZy9OYW5qaW5nX1VuaXZlcnNpdHlfTG9nby5zdmciLCJjb2xvciI6IiM2MzA2NWYiLCJkZWdyZWUiOiJCYWNoZWxvciBvZiBTY2llbmNlIiwibWFqb3IiOiJFbGVjdHJpY2FsIEluZm9ybWF0aW9uIFNjaWVuY2UgJmFtcDsgVGVjaG5vbG9neSIsImxvY2F0aW9uIjoiTmFuamluZywgQ2hpbmEiLCJ0aW1lIjoiSnVseSAyMDE0IiwiZ3BhIjoiMy40Iiwib3ZlcmFsbCI6IjQuMCIsImNvdXJzZXMiOlsiQysrIGFuZCBPYmplY3QgT3JpZW50ZWQgUHJvZ3JhbW1pbmciLCJXZWJzaXRlIFByb2dyYW1taW5nOiBKU1AgYW5kIE1ZU1FMIiwiSW50cm9kdWN0aW9uIHRvIERhdGFiYXNlIiwiQ3J5cHRvZ3JhcGh5IGFuZCBJbmZvcm1hdGlvbiBTZWN1cml0eSIsIlRoZW9yeSBvZiBJbmZvcm1hdGlvbiBhbmQgQ29kaW5nIiwiTWljcm9wcm9jZXNzb3JzIGFuZCBFbWJlZGRlZCBTeXN0ZW0iXX1dLCJvdGhlcnMiOlt7Im5hbWUiOiJNT09DIiwiY29sb3IiOiIjODY4NDg0IiwiY291cnNlcyI6WyJGcm9udC1FbmQgV2ViIFVJIEZyYW1ld29ya3MgYW5kIFRvb2xzIiwiTWFjaGluZSBMZWFybmluZyIsIkFydGlmaWNpYWwgSW50ZWxsaWdlbmNlIFBsYW5uaW5nIiwiVXNpbmcgUHl0aG9uIHRvIEFjY2VzcyBXZWIgRGF0YSIsImlPUyBBcHAgRGV2ZWxvcG1lbnQgQmFzaWNzIl19XX0sInNraWxscyI6W3sia2luZCI6Ikxhbmd1YWdlcyIsIml0ZW1zIjpbIkMvQysrIiwiUHl0aG9uIiwiSmF2YVNjcmlwdCIsIlJ1YnkiLCJTaGVsbCBTY3JpcHRpbmciLCJTd2lmdCIsIkhUTUwvQ1NTIl19LHsia2luZCI6IldlYiBEZXZlbG9wbWVudCIsIml0ZW1zIjpbIk5vZGUuanMiLCJBbmd1bGFySlMiLCJNb25nb0RCIiwiUmFpbHMiLCJTUUwiLCJCb290c3RyYXAiXX0seyJraW5kIjoiVG9vbHMiLCJpdGVtcyI6WyJWaXN1YWwgU3R1ZGlvIiwiTGludXgiLCJNYXRsYWIiLCJHaXQiLCJPcGVuR0wiLCJPcGVuQ1YiLCJYY29kZSIsIkxhVGVYIl19LHsia2luZCI6Ik90aGVycyIsIml0ZW1zIjpbIkNvbXB1dGVyIEdyYXBoaWNzIiwiSW1hZ2UvVmlkZW8gUHJvY2Vzc2luZyIsIk1hY2hpbmUgTGVhcm5pbmciLCJBcnRpZmljaWFsIEludGVsbGlnZW5jZSJdfV0sImV4cGVyaWVuY2UiOlt7InRpdGxlIjoiQysrIERldmVsb3BlciIsInRhZ3MiOlsiQysrIiwiTGludXgiLCJEYXRhIENvbXByZXNzaW9uIl0sImxvY2F0aW9uIjoiTWVkaWEgTGFiLCBEZXBhcnRtZW50IG9mIEVsZWN0cmljYWwgJmFtcDsgQ29tcHV0ZXIgRW5naW5lZXJpbmcsIFRleGFzIEEmYW1wO00gVW5pdmVyc2l0eSwgVFgiLCJ0aW1lIjoiSmFudWFyeSAyMDE1IC0gQXVndXN0IDIwMTYiLCJkZXNjcmlwdGlvbiI6WyJEZXNpZ25lZCBhIEpQRUcgWFIgZW5jb2RlciBpbiBDKysgdG8gc3VwcG9ydCBlZmZpY2llbnQgYW5kIHByZWNpc2UgY29udHJvbCBvZiBiaXQgcmF0ZSBhbmQgU05SLiIsIlByb3Bvc2VkIGFuIGltYWdlIGZvcm1hdCBiYXNlZCBvbiBKUEVHIFhSIHRvIHN0b3JlIDNEIGdlb3BoeXNpY2FsIGRhdGEgKFNFRy1ZKSB3aXRoIGZsb2F0aW5nLXBvaW50IHZhbHVlcyBpbiBhbnkgcmFuZ2UuIl0sImxpbmsiOiJodHRwczovL2dpdGh1Yi5jb20vcGV0cm9zbGl1L0pQRUdYUi1FeHRlbmRlZCIsImxvZ28iOiJmYSBmYS1mdyBmYS1naXRodWIiLCJpbWFnZXMiOlsiaW1nL2V4cC9leHAxLjEucG5nIiwiaW1nL2V4cC9leHAxLjIucG5nIl19LHsidGl0bGUiOiJSZXNlYXJjaCBJbnRlcm5zaGlwIiwidGFncyI6WyJDKysiLCJPcGVuQ1YiLCJPcGVuR0wiLCJDYW1lcmEgQ2FsaWJyYXRpb24iXSwibG9jYXRpb24iOiJDRyBMYWIsIEluc3RpdHV0ZSBvZiBDb21wdXRlciBTY2llbmNlICYgVGVjaG5vbG9neSwgUGVraW5nIFVuaXZlcnNpdHksIEJlaWppbmcsIENoaW5hIiwidGltZSI6Ikp1bHkgMjAxMyAtIE1heSAyMDE0IiwiZGVzY3JpcHRpb24iOlsiRGVzaWduZWQgYSAzRCBjYWxpYnJhdGlvbiBtZXRob2Qgb2YgbXVsdGlwbGUgY2FtZXJhcyB1c2VkIGluIGEgZHluYW1pYyAzRCBvYmplY3QgcmVjb25zdHJ1Y3Rpb24gc3lzdGVtIGJhc2VkIG9uIEltYWdlLUJhc2VkIFZpc3VhbCBIdWxscyAoSUJWSCkgYnkgaW1wcm92aW5nIGEgY2xhc3NpY2FsIHNvbHV0aW9uIHRvIHRoZSBQNFAgcHJvYmxlbSBpbiBvcmRlciB0byBhZGFwdCB0byBjdWJpYyBjYWxpYnJhdGlvbiBvYmplY3QgYW5kIG11bHRpcGxlIGNvbnRyb2wgcG9pbnRzLiIsIlByb3Bvc2VkIGFuIGFsZ29yaXRobSB0byBldmFsdWF0ZSB0aGUgc2NvcGUgb2YgdmlldyBhbmdsZXMgaW4gdGhlIGNhbGlicmF0aW9uIHN5c3RlbSBhbmQgdG8gaGVscCBkZXNpZ25lcnMgdGVzdCB0aGUgZmVhc2liaWxpdHkgb2YgZGVzaWduZWQgY2FsaWJyYXRpb24gb2JqZWN0IGJ5IHF1YW50aWZ5aW5nIHRoZSBlcnJvciBvZiBjYWxpYnJhdGlvbiBpbiB0aGUgcm90YXRpb24gbWF0cml4LCB0aGUgdHJhbnNsYXRpb24gdmVjdG9yLCBldGMuIl0sImxpbmsiOiJodHRwczovL2dpdGh1Yi5jb20vcGV0cm9zbGl1L0NhbWVyYS1DYWxpYnJhdGlvbiIsImxvZ28iOiJmYSBmYS1mdyBmYS1naXRodWIiLCJpbWFnZXMiOlsiaW1nL2V4cC9leHAyLjEucG5nIiwiaW1nL2V4cC9leHAyLjIucG5nIiwiaW1nL2V4cC9leHAyLjMucG5nIl19LHsidGl0bGUiOiJSZXNlYXJjaCBBc3Npc3RhbnQiLCJ0YWdzIjpbIkMrKyIsIktJTkVDVCIsIk9wZW5HTCIsIjNEIFJlY29uc3RydWN0aW9uIl0sImxvY2F0aW9uIjoiRW1iZWRkZWQgU29mdHdhcmUvSGFyZHdhcmUgUiZhbXA7RCBDZW50ZXIsIE5hbmppbmcgVW5pdmVyc2l0eSwgTmFuamluZywgQ2hpbmEiLCJ0aW1lIjoiU2VwdGVtYmVyIDIwMTIgLSBKdWx5IDIwMTMiLCJkZXNjcmlwdGlvbiI6WyJQcm9wb3NlZCBhbiBhbGdvcml0aG0gdG8gZGVub2lzZSBhbmQgY29tcGxldGUgS0lORUNUIGRlcHRoIG1hcCBieSBtYXRjaGluZyB3aXRoIGRldGVjdGVkIGVkZ2VzIG9mIFJHQiBtYXBzLiIsIkJ1aWx0IGEgbW9iaWxlIHJvYm90IHBsYXRmb3JtIGZvciBLSU5FQ1QgdG8gZXhjaGFuZ2UgbW92ZW1lbnQgY29tbWFuZHMgYW5kIG1lYXN1cmVtZW50IHdpdGggUEMuIiwiSW1wbGVtZW50ZWQgU2ltdWx0YW5lb3VzIExvY2FsaXphdGlvbiBhbmQgTWFwcGluZyAoU0xBTSkgYWxnb3JpdGhtIHRvIHJlY29uc3RydWN0IDNEIGluZG9vciBzY2VuZSB3aXRoIEtJTkVDVCBkZXB0aCBhbmQgUkdCIHZpZGVvIGFuZCByb2JvdCBtb3ZlbWVudCBhdXRvbWF0aWNhbGx5LiJdLCJsaW5rIjoiaHR0cHM6Ly9naXRodWIuY29tL3BldHJvc2xpdS9Nb2JpbGUtUm9ib3QtUGxhdGZvcm0iLCJsb2dvIjoiZmEgZmEtZncgZmEtZ2l0aHViIiwiaW1hZ2VzIjpbImltZy9leHAvZXhwMy4xLnBuZyIsImltZy9leHAvZXhwMy4yLnBuZyIsImltZy9leHAvZXhwMy4zLnBuZyJdfV0sInByb2plY3RzIjpbeyJ0aXRsZSI6Ik1lbnRvciBNYXRjaGluZyBTeXN0ZW0iLCJ0YWdzIjpbIlJ1Ynkgb24gUmFpbHMiLCJQb3N0Z3JlU1FMIiwiSmF2YVNjcmlwdCIsIkFnaWxlIiwiU2FhUyJdLCJkZXNjcmlwdGlvbiI6WyJCdWlsdCBhIHN0dWRlbnQgY29tbXVuaXR5IHdlYnNpdGUgd2l0aCBSdWJ5IG9uIFJhaWxzLCBQb3N0Z3JlU1FMLCBKYXZhU2NyaXB0IGFuZCBCb290c3RyYXAgdG8gaGVscCBzdHVkZW50cyBhbmQgbWVudG9ycyBmb3JtIHRlYW1zIGZvciBjb21wZXRpdGlvbnMuIiwiRXhwbG9pdGVkIFNhYVMgbW9kZWwsIFJFU1RmdWwgQVBJIGFuZCBhZ2lsZSBkZXZlbG9wbWVudCB3aXRoIGEgdGVhbSBvZiA2LiJdLCJsaW5rIjoiaHR0cHM6Ly9naXRodWIuY29tL0dvbGRlbk1pbmVyR28vTWVudG9yLU1hdGNoaW5nLVN5c3RlbSIsImxvZ28iOiJmYSBmYS1mdyBmYS1naXRodWIiLCJvcmdhbml6YXRpb24iOiJUQU1VIEhvbm9ycyBQcm9ncmFtIn0seyJ0aXRsZSI6IkdlbmV0aWMgUHJvZ25vc2lzIiwidGFncyI6WyJNYXRsYWIiLCJNYWNoaW5lIExlYXJuaW5nIl0sImRlc2NyaXB0aW9uIjpbIklkZW50aWZpZWQgZ2VuZS1leHByZXNzaW9uIHNpZ25hdHVyZXMgaW4gYSBnZW5ldGljIGRhdGFzZXQgd2l0aCBMREEsIEtOTiBhbmQgU1ZNIGFsZ29yaXRobXMuIiwiQW5hbHl6ZWQgdGhlIHBlcmZvcm1hbmNlIG9mIG11bHRpcGxlIGNsYXNzaWZpZXIgZGVzaWduLCBlcnJvciBlc3RpbWF0aW9uLCBhbmQgZmVhdHVyZSBzZWxlY3Rpb24gdGVjaG5pcXVlcy4iXSwibGluayI6Imh0dHBzOi8vZ2l0aHViLmNvbS9wZXRyb3NsaXUvR2VuZXRpYy1Qcm9nbm9zaXMiLCJsb2dvIjoiZmEgZmEtZncgZmEtZ2l0aHViIiwib3JnYW5pemF0aW9uIjoiUGF0dGVybiBSZWNvZ25pdGlvbiJ9LHsidGl0bGUiOiJOZXR3b3JrIE9wdGltaXphdGlvbiIsInRhZ3MiOlsiUHl0aG9uIiwiQWxnb3JpdGhtcyIsIkRhdGEgU3RydWN0dXJlcyJdLCJkZXNjcmlwdGlvbiI6WyJJbXBsZW1lbnRlZCBhIG5ldHdvcmsgcm91dGluZyBwcm90b2NvbCBpbiBQeXRob24gd2l0aCBEaWprc3RyYSZyc3F1bztzIGFuZCBLcnVza2FsJnJzcXVvO3MgbWF4LSBiYW5kd2lkdGgtcGF0aCBhbGdvcml0aG1zIGFuZCBtdWx0aXBsZSBkYXRhIHN0cnVjdHVyZXMuIl0sImxpbmsiOiJodHRwczovL2dpdGh1Yi5jb20vcGV0cm9zbGl1L05ldHdvcmstT3B0aW1pemF0aW9uIiwibG9nbyI6ImZhIGZhLWZ3IGZhLWdpdGh1YiIsIm9yZ2FuaXphdGlvbiI6IkFuYWx5c2lzIG9mIEFsZ29yaXRobXMifSx7InRpdGxlIjoiV2Vic2l0ZSBEZXNpZ24iLCJ0YWdzIjpbIkphdmFTY3JpcHQiLCJCb290c3RyYXAiLCJIVE1MIiwiQ1NTIl0sImRlc2NyaXB0aW9uIjpbIkRlc2lnbmVkIGEgcmVzdGF1cmFudCB3ZWJzaXRlIHN1cHBvcnRpbmcgcmVzZXJ2YXRpb24gYW5kIHJldmlldyB1c2luZyBKYXZhU2NyaXB0IGFuZCBCb290c3RyYXAuIl0sImxpbmsiOiJodHRwczovL2dpdGh1Yi5jb20vcGV0cm9zbGl1L1Jlc3RhdXJhbnQtV2Vic2l0ZSIsImxvZ28iOiJmYSBmYS1mdyBmYS1naXRodWIiLCJvcmdhbml6YXRpb24iOiJGcm9udC1FbmQgV2ViIFVJIEZyYW1ld29ya3MgYW5kIFRvb2xzIn0seyJ0aXRsZSI6IlBob3RvIEZpbHRlciBpT1MgQXBwIiwidGFncyI6WyJTd2lmdCIsImlPUyIsIkltYWdlIFByb2Nlc3NpbmciXSwiZGVzY3JpcHRpb24iOlsiRGV2ZWxvcGVkIGEgdW5pdmVyc2FsIHBob3RvIGVkaXRpbmcgYXBwIGZvciBpT1MgaW4gU3dpZnQgdG8gb2ZmZXIgbXVsdGlwbGUgYmxlbmQgZmlsdGVycyBhbmQgdHVuaW5ncy4iXSwibGluayI6Imh0dHBzOi8vZ2l0aHViLmNvbS9wZXRyb3NsaXUvUGhvdG8tRmlsdGVyLUFwcCIsImxvZ28iOiJmYSBmYS1mdyBmYS1naXRodWIiLCJvcmdhbml6YXRpb24iOiJpT1MgQXBwIERldmVsb3BtZW50IEJhc2ljcyJ9XSwiaG9ub3JzIjpbeyJ0aXRsZSI6IkdyYWR1YXRlIE1lcml0IFNjaG9sYXJzaGlwIiwiYXdhcmRlciI6IlRleGFzIEEmYW1wO00gVW5pdmVyc2l0eSIsInRpbWUiOiIyMDE1In0seyJ0aXRsZSI6IkdyYWR1YXRlIE1lcml0IFNjaG9sYXJzaGlwIiwiYXdhcmRlciI6IlRleGFzIEEmYW1wO00gVW5pdmVyc2l0eSIsInRpbWUiOiIyMDE0In0seyJ0aXRsZSI6IlBlb3BsZSZyc3F1bztzIFNjaG9sYXJzaGlwIiwiYXdhcmRlciI6Ik5hbmppbmcgVW5pdmVyc2l0eSIsInRpbWUiOiIyMDEzIn0seyJ0aXRsZSI6IlBlb3BsZSZyc3F1bztzIFNjaG9sYXJzaGlwIiwiYXdhcmRlciI6Ik5hbmppbmcgVW5pdmVyc2l0eSIsInRpbWUiOiIyMDEyIn1dLCJnaXptb3MiOlt7InRpdGxlIjoiWUlESU5HIExJVSIsImxpbmsiOiJodHRwOi8vaW0ubGl1eWlkLmluIiwibG9nbyI6Imh0dHA6Ly9pbS5saXV5aWQuaW4vaW1nL2Zhdmljb24vZmF2aWNvbi0xOTR4MTk0LnBuZyJ9LHsidGl0bGUiOiJDb2RlIE5vdGUiLCJsaW5rIjoiaHR0cDovL2NvZGVub3RlLmxpdXlpZC5pbiIsImxvZ28iOiJodHRwOi8vY29kZW5vdGUubGl1eWlkLmluL2ltYWdlcy9pY29ucy9mYXZpY29uLTE5NHgxOTQucG5nIn0seyJ0aXRsZSI6IlRpbWVzbG90IHggQm9vdHN0cmFwIiwibGluayI6Imh0dHA6Ly90aW1lc2xvdC5saXV5aWQuaW4iLCJsb2dvIjoiaHR0cDovL3RpbWVzbG90LmxpdXlpZC5pbi9mYXZpY29uLTE5NHgxOTQucG5nIn0seyJ0aXRsZSI6IldvcmxkIFdhdGNoIiwibGluayI6Imh0dHA6Ly93YXRjaC5saXV5aWQuaW4iLCJsb2dvIjoiaHR0cDovL3dhdGNoLmxpdXlpZC5pbi9mYXZpY29uLTE5NHgxOTQucG5nIn0seyJ0aXRsZSI6IkhlYWRpbmcgQW5jaG9yIENvbnZlcnRlciIsImxpbmsiOiJodHRwOi8vaGFjLmxpdXlpZC5pbiIsImxvZ28iOiJodHRwOi8vaGFjLmxpdXlpZC5pbi9pY29ucy9mYXZpY29uLTE5NHgxOTQucG5nIn1dfQ==";

var obj = JSON.parse(atob(data));

$(document).ready(function() {

    var edutext = '<table  class="table boardless">';
    var coursetext = '';
    for (var i = 0; i < obj.education.colleges.length; i++) {
        edutext += '<tr><td style="align:center"><img draggable="false" src="' +
            obj.education.colleges[i].logo +
            '" alt="" class="univlogo img-responsive center-block" alt="Responsive image"></td><td><span><I>' +
            obj.education.colleges[i].degree +
            '</I> <span class="badge badge-warning">' +
            obj.education.colleges[i].gpa + ' / ' + obj.education.colleges[i].overall +
            '</span><br>' +
            obj.education.colleges[i].major +
            '<br><B>' +
            obj.education.colleges[i].name +
            '</B>, ' +
            obj.education.colleges[i].location +
            '</span></td><td class="td-right">' +
            obj.education.colleges[i].time +
            '</td></tr><tr>';

        coursetext += '<div class="col-lg-4 col-md-4 col-sm-12 col-xs-12"><table class="table table-condensed" style="border-top: thick solid ' +
            obj.education.colleges[i].color +
            ';"><tr><th>' +
            obj.education.colleges[i].name +
            '</th></tr>';
        for (var j = 0; j < obj.education.colleges[i].courses.length; j++) {
            coursetext += '<tr><td>' +
                obj.education.colleges[i].courses[j] +
                '</td></tr>';
        }
        coursetext += '<tr><td>etc.</td></tr></table></div>';
    }
    edutext += '</table>';
    $('#edutable').html(edutext);

    for (var i = 0; i < obj.education.others.length; i++) {
        coursetext += '<div class="col-lg-4 col-md-4 col-sm-12 col-xs-12"><table class="table table-condensed" style="border-top: thick solid ' +
            obj.education.others[i].color +
            ';"><tr><th>' +
            obj.education.others[i].name +
            '</th></tr>';
        for (var j = 0; j < obj.education.others[i].courses.length; j++) {
            coursetext += '<tr><td>' +
                obj.education.others[i].courses[j] +
                '</td></tr>';
        }
        coursetext += '<tr><td>etc.</td></tr></table></div>'
    }
    $('#coursetables').html(coursetext);

    var skilltext = '<table class="table boardless"><tbody>';
    for (var i = 0; i < obj.skills.length; i++) {
        skilltext += '<tr><td class="td-right td-bold">' +
            obj.skills[i].kind +
            ':</td><td>';
        for (var j = 0; j < obj.skills[i].items.length; j++) {
            skilltext += obj.skills[i].items[j] + ', ';
        }
        skilltext += 'etc.</td></tr>';
    }
    skilltext += '</tbody></table>';
    $('#skilltable').html(skilltext);

    var exptext = '';
    for (var i = 0; i < obj.experience.length; i++) {
        exptext += '<div class="col-sm-6"><B>' +
            obj.experience[i].title +
            '</B></div><div class="col-sm-6 td-right">' +
            obj.experience[i].time +
            '</div>';

        exptext += '<div class="col-sm-12">' +
            obj.experience[i].location +
            '</div><div class="col-sm-12 label-div"><a type="button" target="_blank" href="' +
            obj.experience[i].link +
            '"><span class="label label-default"><i class="' +
            obj.experience[i].logo +
            '"></i></span></a><a type="button" target="_blank" data-toggle="collapse" data-target="#collapseExp' + i +
            '" aria-expanded="false" aria-controls="collapseExp' + i +
            '"><span class="label label-default" style="cursor:pointer;border-style:solid;border-left-color:white;border-width:1px;"><i class="fa fa-caret-down" aria-hidden="true"></i></span></a> ';

        for (var j = 0; j < obj.experience[i].tags.length; j++) {
            exptext += '<span class="label label-warning">' + obj.experience[i].tags[j] + '</span> ';
        }

        exptext += '</div><div class="col-sm-12"><div class="collapse" id="collapseExp' + i +
            '" aria-expanded="false" style="height: 0px;"><div style="height:20px;width:100%;"></div><div class="well"><div id="carousel-exp' + i +
            '-generic" class="carousel slide" data-ride="carousel"><div class="carousel-inner" role="listbox">';

        for (var j = 0; j < obj.experience[i].images.length; j++) {
            exptext += '<div class="item ';
            if (j == 0) exptext += 'active ';
            exptext += 'carousel-img-container"><a data-toggle="modal" data-target="#myModal" data-src="' +
                obj.experience[i].images[j] +
                '"><img draggable="false" src="" alt="" style="background-image:url(' +
                obj.experience[i].images[j] +
                ');height:300px;background-color:#000;cursor:pointer;"></a></div>';
        }

        exptext += '</div><a class="left carousel-control" href="#carousel-exp' + i +
            '-generic" role="button" data-slide="prev"><span class="icon-prev" aria-hidden="true"></span><span class="sr-only">Previous</span></a><a class="right carousel-control" href="#carousel-exp' + i +
            '-generic" role="button" data-slide="next"><span class="icon-next" aria-hidden="true"></span><span class="sr-only">Next</span></a></div></div></div></div>';

        exptext += '<div class="col-sm-12"><ul>';

        for (var j = 0; j < obj.experience[i].description.length; j++) {
            exptext += '<li>' +
                obj.experience[i].description[j] +
                '</li>';
        }
        exptext += '</ul></div>';
    }
    $('#experiencetable').html(exptext);

    var projecttext = '';
    for (var i = 0; i < obj.projects.length; i++) {
        projecttext += '<div class="col-sm-12"><B>' +
            obj.projects[i].title +
            '</B></div><div class="col-sm-12">' +
            obj.projects[i].organization +
            '</div><div class="col-sm-12 label-div"><a type="button" target="_blank" href="' +
            obj.projects[i].link +
            '"><span class="label label-default"><i class="' +
            obj.projects[i].logo +
            '"></i></span></a> ';

        for (var j = 0; j < obj.projects[i].tags.length; j++) {
            projecttext += '<span class="label label-warning">' + obj.projects[i].tags[j] + '</span> ';
        }

        projecttext += '</div><div class="col-sm-12"><ul>';

        for (var j = 0; j < obj.projects[i].description.length; j++) {
            projecttext += '<li>' +
                obj.projects[i].description[j] +
                '</li>';
        }
        projecttext += '</ul></div>';
    }
    projecttext += '</tbody></table>';
    $('#projecttable').html(projecttext);

    var honortext = '<table class="table boardless"><tbody>';
    for (var i = 0; i < obj.honors.length; i++) {
        honortext += '<tr><td><B>' +
            obj.honors[i].title +
            '</B>, ' +
            obj.honors[i].awarder +
            '</td><td class="td-right">' +
            obj.honors[i].time +
            '</td></tr>';
    }
    honortext += '</tbody></table>';
    $('#honortable').html(honortext);

    var text = atob(obj.basics.email);
    $('#mail-toggled').attr('href', 'mailto:' + text);
    $('#mail-sidebar').attr('href', 'mailto:' + text);

    $('#resumeframe').attr('height', window.innerHeight - 150);

    $('[data-toggle="tooltip"]').tooltip({
        container: 'body'
    });

    if ($(window).width() < 768) {
        setTimeout(function() {
            $("#sidebar-toggled").collapse('show');
        }, 500);
    }
});

$('#wechat').popover({
    placement: 'bottom',
    content: '<a target="_blank" href="' + obj.basics.links[3].link + '"><img draggable="false" class="img-responsive img-thumbnail qr" src="'+ obj.basics.others.wechatqr +'" style="width: 180px;background-color:transparent;border: none;"></a>',
    html: true
});

$('.sidebar-link').click(function(e) {
    e.preventDefault();
    var goto = $(this).attr('href');
    $('html, body').animate({
        scrollTop: $(goto).offset().top
    }, 1000);
});

$('#myModal').on('show.bs.modal', function(event) {
    var button = $(event.relatedTarget),
        src = button.data('src'),
        modal = $(this);
    modal.find('.modal-img').attr('src', src);
});

$(function() {
    var ink, d, x, y, cx, cy;
    $(".ripplelink").click(function(e) {
        if ($(this).find(".ink").length === 0) {
            $(this).prepend("<span class='ink'></span>");
        }

        ink = $(this).find(".ink");
        ink.removeClass("animate");

        if (!ink.height() && !ink.width()) {
            d = Math.max($(this).outerWidth(), $(this).outerHeight());
            ink.css({
                height: d,
                width: d
            });
        }

        x = e.pageX - $(this).offset().left - ink.width() / 2;
        y = e.pageY - $(this).offset().top - ink.height() / 2;

        ink.css({
            top: y + 'px',
            left: x + 'px'
        }).addClass("animate");
    });
});

$(window).resize(function() {
    if ($(this).width() < 768) {
        $("#sidebar-toggled").collapse('show');
    } else {
        $("#sidebar-toggled").collapse('hide');
    }
    $('#resumeframe').attr('height', window.innerHeight - 150);
});

if (($(window).height() + 100) < $(document).height()) {
    $('#top-link-block').removeClass('hidden').affix({
        offset: {
            top: 100
        }
    });
}

(function(i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r;
    i[r] = i[r] || function() {
        (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date();
    a = s.createElement(o), m = s.getElementsByTagName(o)[0];
    a.async = 1;
    a.src = g;
    m.parentNode.insertBefore(a, m)
})(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
ga('create', 'UA-71764085-1', 'auto');
ga('send', 'pageview');